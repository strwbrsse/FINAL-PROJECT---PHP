<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration</title>
    <link rel="stylesheet" href="../Assets/Styles/profile.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.0/sweetalert.min.js"></script>
    <script src="sweetAlertHandler.js"></script>
</head>

<body>
    <div class="background">
        <div class="content">
            <div class="welcome-section">
                <h1 id="text"></h1>
                <p>Please fill in the form to register.</p>
            </div>
            <div class="signup-link">
                <p>Existing user? <a href="../FrontEnd/index.html">Sign in here</a></p>
            </div>
            <div class="signin-section">
                <h2>User Registration Form</h2>
                <form action="../BackEnd/Main.php" method="post" id="registrationForm">
                    <div class="form-row">
                    <input type="hidden" name="action" value="register">
                        <div class="form-group">
                            <label for="fname">First Name:</label>
                            <input type="text" id="fname" name="fname" placeholder="Enter your first name" required>
                        </div>
                        <div class="form-group">
                            <label for="mname">Middle Name:</label>
                            <input type="text" id="mname" name="mname" placeholder="Enter N/A if not applicable">
                        </div>
                        <div class="form-group">
                            <label for="lname">Last Name:</label>
                            <input type="text" id="lname" name="lname" placeholder="Enter your last name" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="birthday">Birthday:</label>
                            <input type="date" id="birthday" name="birthday" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="mail" placeholder="Enter your email" required>
                        </div>
                        <div class="form-group">
                            <label for="contact">Contact Number:</label>
                            <input type="text" id="contact" name="contact" placeholder="Enter your contact number" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="sex">Sex:</label>
                            <select id="sex" name="sex" required>
                                <option value="">Select</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="civilstat">Civil Status:</label>
                            <select id="civilstat" name="civilstat" required>
                                <option value="">Select</option>
                                <option value="Single">Single</option>
                                <option value="Married">Married</option>
                                <option value="Widowed">Widowed</option>
                                <option value="Divorced">Divorced</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="nationality">Nationality:</label>
                            <input type="text" id="nationality" name="nationality" placeholder="Enter your nationality">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="employmentstat">Employment Status:</label>
                            <select id="employmentstat" name="employmentstat" required>
                                <option value="">Select</option>
                                <option value="Employed">Employed</option>
                                <option value="Unemployed">Unemployed</option>
                                <option value="Student">Student</option>
                                <option value="Retired">Retired</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="employer">Employer:</label>
                            <input type="text" id="employer" name="employer" placeholder="Enter N/A if not available">
                        </div>
                        <div class="form-group">
                            <label for="profession">Profession:</label>
                            <input type="text" id="profession" name="profession" placeholder="Enter N/A if not available">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="address">Address:</label>
                            <input type="text" id="address" name="address" placeholder="Enter your address" required>
                        </div>
                        <div class="form-group">
                            <label for="barangay">Barangay:</label>
                            <input type="text" id="barangay" name="barangay" placeholder="Enter your barangay">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Do you have any allergies?</label>
                            <div class="inline-group">
                                <label>
                                    <input type="radio" name="allergy_check" value="yes" id="allergy_yes"> Yes
                                </label>
                                <label>
                                    <input type="radio" name="allergy_check" value="no" id="allergy_no" checked> No
                                </label>
                                <span class="instruction">(If yes, list all known allergies separated by a comma)</span>
                            </div>
                            <textarea id="allergy" name="allergy_description" disabled></textarea>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Do you have any diseases?</label>
                            <div class="inline-group">
                                <label>
                                    <input type="radio" name="disease_check" value="yes" id="disease_yes"> Yes
                                </label>
                                <label>
                                    <input type="radio" name="disease_check" value="no" id="disease_no" checked> No
                                </label>
                                <span class="instruction">(If yes, list all known diseases separated by a comma)</span>
                            </div>
                            <textarea id="disease" name="disease_description" disabled></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit">Register</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="../Assets/Scripts/welcomeText.js"></script>
    <script src="../Assets/Scripts/alert.js"></script>
    <script>
        document.querySelectorAll('input[name="allergy_check"]').forEach((elem) => {
            elem.addEventListener('change', function() {
                document.getElementById('allergy').disabled = this.value === 'no';
                if (this.value === 'no') {
                    document.getElementById('allergy').value = '';
                }
            });
        });
    
        document.querySelectorAll('input[name="disease_check"]').forEach((elem) => {
            elem.addEventListener('change', function() {
                document.getElementById('disease').disabled = this.value === 'no';
                if (this.value === 'no') {
                    document.getElementById('disease').value = '';
                }
            });
        });
    </script>
</body>

</html>